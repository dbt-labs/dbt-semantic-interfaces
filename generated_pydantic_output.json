{
  "semantic_models": [
    {
      "name": "fct_orders",
      "defaults": null,
      "description": null,
      "node_relation": {
        "alias": "table",
        "schema_name": "schema",
        "database": null,
        "relation_name": "schema.table"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "my_primary_entity_column",
          "description": null,
          "type": "primary",
          "role": null,
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        },
        {
          "name": "my_foreign_entity_column",
          "description": null,
          "type": "foreign",
          "role": null,
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        },
        {
          "name": "my_other_foreign_entity_column",
          "description": null,
          "type": "foreign",
          "role": null,
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        },
        {
          "name": "my_derived_entity",
          "description": "string",
          "type": "foreign",
          "role": null,
          "expr": "col_1 || '-' || col_2",
          "metadata": null,
          "label": null,
          "config": null
        }
      ],
      "measures": [],
      "dimensions": [
        {
          "name": "my_categorical_dimension_column",
          "description": null,
          "type": "categorical",
          "is_partition": false,
          "type_params": null,
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        },
        {
          "name": "my_time_dimension_column",
          "description": "My Custom Description",
          "type": "time",
          "is_partition": true,
          "type_params": {
            "time_granularity": "day",
            "validity_params": null
          },
          "expr": null,
          "metadata": null,
          "label": "My Custom Label",
          "config": null
        },
        {
          "name": "my_other_time_dimension_column",
          "description": null,
          "type": "time",
          "is_partition": false,
          "type_params": {
            "time_granularity": "day",
            "validity_params": null
          },
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        },
        {
          "name": "my_derived_dimension",
          "description": null,
          "type": "categorical",
          "is_partition": false,
          "type_params": null,
          "expr": "case when my_column = 'value' then 'new_value' else my_column end",
          "metadata": null,
          "label": null,
          "config": null
        }
      ],
      "label": null,
      "metadata": null,
      "config": {
        "meta": {}
      }
    },
    {
      "name": "fct_another_orders",
      "defaults": null,
      "description": null,
      "node_relation": {
        "alias": "another_table",
        "schema_name": "schema",
        "database": null,
        "relation_name": "schema.another_table"
      },
      "primary_entity": null,
      "entities": [
        {
          "name": "my_primary_entity_column",
          "description": null,
          "type": "primary",
          "role": null,
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        }
      ],
      "measures": [],
      "dimensions": [
        {
          "name": "my_another_time_dimension_column",
          "description": null,
          "type": "time",
          "is_partition": false,
          "type_params": {
            "time_granularity": "day",
            "validity_params": null
          },
          "expr": null,
          "metadata": null,
          "label": null,
          "config": null
        }
      ],
      "label": null,
      "metadata": null,
      "config": null
    }
  ],
  "metrics": [
    {
      "name": "my_simple_metric",
      "description": "cool metric",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "1",
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_orders",
          "agg": "sum",
          "agg_params": null,
          "agg_time_dimension": null,
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_simple_metric_that_uses_the_other_time_dimension",
      "description": "cool metric",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "case when is_a then 1 else 0 end",
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_orders",
          "agg": "sum",
          "agg_params": null,
          "agg_time_dimension": "my_other_time_dimension_column",
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my time dimension label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_simple_percentile_metric",
      "description": "cool metric",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "another_column",
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_orders",
          "agg": "percentile",
          "agg_params": {
            "percentile": 50.0,
            "use_discrete_percentile": true,
            "use_approximate_percentile": false
          },
          "agg_time_dimension": null,
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my percentile label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_simple_metric_with_configs_and_non_additive_dimension",
      "description": "cool cumulative metric",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_orders",
          "agg": "sum",
          "agg_params": null,
          "agg_time_dimension": null,
          "non_additive_dimension": {
            "name": "my_derived_dimension",
            "window_choice": "max",
            "window_groupings": [
              "my_primary_entity_column"
            ]
          }
        },
        "join_to_timespine": true,
        "fill_nulls_with": 0,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my non-additive label",
      "config": {
        "meta": {
          "key": "value"
        }
      },
      "time_granularity": null
    },
    {
      "name": "my_derived_metric",
      "description": "cool derived metric",
      "type": "derived",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "my_simple_metric - my_simple_metric_a_week_ago",
        "window": null,
        "grain_to_date": null,
        "metrics": [
          {
            "name": "my_simple_metric",
            "filter": {
              "where_filters": [
                {
                  "where_sql_template": "{{ Dimension('fct_orders__my_categorical_dimension_column') }} > 10"
                }
              ]
            },
            "alias": "my_simple_metric_a_week_ago",
            "offset_window": {
              "count": 1,
              "granularity": "week"
            },
            "offset_to_grain": null
          }
        ],
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my derived label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_cumulative_metric",
      "description": "cool cumulative metric",
      "type": "cumulative",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": {
          "window": {
            "count": 1,
            "granularity": "week"
          },
          "grain_to_date": null,
          "period_agg": "last",
          "metric": {
            "name": "my_simple_metric",
            "filter": null,
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          }
        },
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my cumulative label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_ratio_metric",
      "description": "cool ratio metric",
      "type": "ratio",
      "type_params": {
        "measure": null,
        "numerator": {
          "name": "my_simple_metric",
          "filter": null,
          "alias": null,
          "offset_window": null,
          "offset_to_grain": null
        },
        "denominator": {
          "name": "my_simple_metric_that_uses_the_other_time_dimension",
          "filter": null,
          "alias": null,
          "offset_window": null,
          "offset_to_grain": null
        },
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my ratio label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_ratio_metric_with_metric_customization",
      "description": "cool ratio metric",
      "type": "ratio",
      "type_params": {
        "measure": null,
        "numerator": {
          "name": "my_simple_metric",
          "filter": {
            "where_filters": [
              {
                "where_sql_template": "{{ Dimension('fct_orders__my_categorical_dimension_column') }} > 10"
              }
            ]
          },
          "alias": "joel_loves_data",
          "offset_window": null,
          "offset_to_grain": null
        },
        "denominator": {
          "name": "my_simple_metric_that_uses_the_other_time_dimension",
          "filter": null,
          "alias": null,
          "offset_window": null,
          "offset_to_grain": null
        },
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my custom ratio label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_conversion_metric",
      "description": "cool conversion metric",
      "type": "conversion",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": {
          "base_measure": null,
          "base_metric": {
            "name": "my_simple_metric",
            "filter": null,
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          },
          "conversion_measure": null,
          "conversion_metric": {
            "name": "my_simple_metric",
            "filter": {
              "where_filters": [
                {
                  "where_sql_template": "{{ Dimension('fct_orders__my_categorical_dimension_column') }} > 10"
                }
              ]
            },
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          },
          "entity": "my_primary_entity_column",
          "calculation": "conversion_rate",
          "window": {
            "count": 1,
            "granularity": "week"
          },
          "constant_properties": [
            {
              "base_property": "my_derived_dimension",
              "conversion_property": "my_foreign_entity_column"
            }
          ]
        },
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my conversion label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_simple_metric_that_uses_the_other_time_dimension_but_is_also_from_another_semantic_model",
      "description": "cool metric from another semantic model",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_another_orders",
          "agg": "sum",
          "agg_params": null,
          "agg_time_dimension": "my_another_time_dimension_column",
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my other semantic model label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_metric_name_from_another_semantic_model",
      "description": "another metric from another semantic model",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "1",
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_another_orders",
          "agg": "count",
          "agg_params": null,
          "agg_time_dimension": null,
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my another semantic model label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_other_metric_from_another_semantic_model",
      "description": "yet another metric from another semantic model",
      "type": "simple",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "user_id",
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": {
          "semantic_model": "fct_another_orders",
          "agg": "count_distinct",
          "agg_params": null,
          "agg_time_dimension": null,
          "non_additive_dimension": null
        },
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": "my yet another label",
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_advanced_cumulative_metric",
      "description": null,
      "type": "cumulative",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": {
          "window": null,
          "grain_to_date": "hour",
          "period_agg": "first",
          "metric": {
            "name": "my_simple_metric",
            "filter": null,
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          }
        },
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": null,
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_advanced_ratio_metric",
      "description": null,
      "type": "ratio",
      "type_params": {
        "measure": null,
        "numerator": {
          "name": "my_simple_metric",
          "filter": {
            "where_filters": [
              {
                "where_sql_template": "{{ Dimension('fct_orders__my_categorical_dimension_column') }} > 10"
              }
            ]
          },
          "alias": "joel_loves_data",
          "offset_window": null,
          "offset_to_grain": null
        },
        "denominator": {
          "name": "my_simple_metric_that_uses_the_other_time_dimension_but_is_also_from_another_semantic_model",
          "filter": null,
          "alias": null,
          "offset_window": null,
          "offset_to_grain": null
        },
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": null,
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_advanced_derived_metric",
      "description": null,
      "type": "derived",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": "my_simple_metric - my_metric_name_a_week_ago_in_another_semantic_model",
        "window": null,
        "grain_to_date": null,
        "metrics": [
          {
            "name": "my_metric_name_from_another_semantic_model",
            "filter": {
              "where_filters": [
                {
                  "where_sql_template": "my_filter"
                }
              ]
            },
            "alias": "my_metric_name_a_week_ago_in_another_semantic_model",
            "offset_window": {
              "count": 1,
              "granularity": "week"
            },
            "offset_to_grain": null
          }
        ],
        "conversion_type_params": null,
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": null,
      "config": null,
      "time_granularity": null
    },
    {
      "name": "my_advanced_conversion_metric",
      "description": null,
      "type": "conversion",
      "type_params": {
        "measure": null,
        "numerator": null,
        "denominator": null,
        "expr": null,
        "window": null,
        "grain_to_date": null,
        "metrics": null,
        "conversion_type_params": {
          "base_measure": null,
          "base_metric": {
            "name": "my_simple_metric",
            "filter": null,
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          },
          "conversion_measure": null,
          "conversion_metric": {
            "name": "my_other_metric_from_another_semantic_model",
            "filter": null,
            "alias": null,
            "offset_window": null,
            "offset_to_grain": null
          },
          "entity": "my_primary_entity_column",
          "calculation": "conversion_rate",
          "window": {
            "count": 1,
            "granularity": "week"
          },
          "constant_properties": [
            {
              "base_property": "my_categorical_dimension_column",
              "conversion_property": "my_another_time_dimension_column"
            }
          ]
        },
        "cumulative_type_params": null,
        "input_measures": [],
        "metric_aggregation_params": null,
        "join_to_timespine": false,
        "fill_nulls_with": null,
        "is_private": false
      },
      "filter": null,
      "metadata": null,
      "label": null,
      "config": null,
      "time_granularity": null
    }
  ],
  "project_configuration": {
    "time_spine_table_configurations": [
      {
        "location": "example_schema.example_table",
        "column_name": "ds",
        "grain": "day"
      }
    ],
    "metadata": null,
    "dsi_package_version": {
      "major_version": "0",
      "minor_version": "9",
      "patch_version": "0"
    },
    "time_spines": [
      {
        "node_relation": {
          "alias": "day_time_spine",
          "schema_name": "stuff",
          "database": null,
          "relation_name": "stuff.day_time_spine"
        },
        "primary_column": {
          "name": "ds_day",
          "time_granularity": "day"
        },
        "custom_granularities": [
          {
            "name": "retail_year",
            "column_name": null
          },
          {
            "name": "martian_week",
            "column_name": "meep_meep_wk"
          }
        ]
      }
    ]
  },
  "saved_queries": []
}
